<MainScreen>
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: (1,0.5,0,1)
        Rectangle:
            size: (self.width, dp(50))
            pos: self.pos

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint: (1, 0.06)
            TextInput:
                hint_text: 'Search'
                valign: 'middle'
                multiline: False
                size_hint: (0.7, 1)
                font_size: 30

            Button:
                size_hint: (0.15, 1)
                id: search_button
                background_color: (1,1,1,0)
                on_release: app.root.current = 'login'
                Image:
                    source: "images/search.png"
                    size: self.parent.size
                    pos: self.parent.pos

            Button:
                size_hint: (0.15, 1)
                id: profile_button
                background_color: (1,1,1,0)
                on_release: app.root.current = 'login'
                Image:
                    source: "images/account.png"
                    size: self.parent.size
                    pos: self.parent.pos

        TabbedPanel:
            size_hint: (1, 0.85)
            do_default_tab: False
            tab_pos: "bottom_mid"
            tab_width: self.size[0]/len(self.tab_list)

            TabbedPanelItem:
                background_color: (1,1,1,0)
                canvas:
                    Rectangle:
                        source: "images/short_video.png"
                        size: (dp(40), dp(40))
                        pos: (self.size[0]*0.25, 0)

                FloatLayout
                    VideoPlayer:
                        source: "images/cat_video.mp4"
                        size: self.parent.size
                        pos: self.parent.pos
                        state: 'stop'

                    Button:
                        id: like_button
                        pos_hint: {'x': 0.8, 'y': 0.4}
                        size_hint: (0.2, 0.1)
                        background_color: (1,1,1,0)
                        on_release: root.like()
                        Image:
                            id: like_icon
                            source: "images/like.png"
                            size: self.parent.size
                            pos: self.parent.pos

                    Button:
                        id: comment_button
                        pos_hint: {'x': 0.8, 'y': 0.27}
                        size_hint: (0.2, 0.1)
                        background_color: (1,1,1,0)
                        on_release:
                            #root.comment()
                            app.root.current = 'comment'
                            root.manager.transition.direction = 'up'
                        Image:
                            id: comment_icon
                            source: "images/comment.png"
                            size: self.parent.size
                            pos: self.parent.pos

                    Button:
                        id: share_button
                        pos_hint: {'x': 0.8, 'y': 0.14}
                        size_hint: (0.2, 0.1)
                        background_color: (1,1,1,0)
                        on_release:
                            root.share()
                        Image:
                            id: share_icon
                            source: "images/share.png"
                            size: self.parent.size
                            pos: self.parent.pos


            TabbedPanelItem:
                background_color: (1,1,1,0)
                canvas:
                    Rectangle:
                        source: "images/article.png"
                        size: (dp(40), dp(40))
                        pos: (self.size[0]*1.25, 0)

                BoxLayout:
                    canvas.before:
                        Color:
                            rgba: (1,1,1,1)
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    size_hint: (1, None)
                    size: (root.width, root.height-dp(100))
                    id: articles_grid


            TabbedPanelItem:
                background_color: (1,1,1,0)
                canvas:
                    Rectangle:
                        source: "images/long_video.png"
                        size: (dp(40), dp(40))
                        pos: (self.size[0]*2.25, 0)
                BoxLayout:
                    canvas.before:
                        Color:
                            rgba: (1,1,1,1)
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    size_hint: (1, None)
                    size: (root.width, root.height-dp(100))
                    id: videos_grid


            TabbedPanelItem:
                background_color: (1,1,1,0)
                canvas:
                    Rectangle:
                        source: "images/account.png"
                        size: (dp(40), dp(40))
                        pos: (self.size[0]*3.25, 0)
                BoxLayout:
                    canvas.before:
                        Color:
                            rgba: (1,1,1,1)
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    size_hint: (1, None)
                    size: (root.width, root.height-dp(100))
                    id: creators_grid

